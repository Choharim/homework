---
title: í€µ ì •ë ¬
description: í€µ ì •ë ¬ì˜ ë™ì‘ ë°©ì‹ì„ ì•Œì•„ë³´ì.
createDate: 2022.10.31
tag: ì•Œê³ ë¦¬ì¦˜
---

## ì‘ë™ ì›ë¦¬

- pivotì„ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚¨ë‹¤.
  1. ê¸°ì¤€ê°’ (pivot)ì„ ì •í•œë‹¤.
  2. (ì˜¤ë¦„ ì°¨ìˆœ) pivotì„ ì¤‘ì‹¬ìœ¼ë¡œ ì™¼ìª½ì—ëŠ” pivotë³´ë‹¤ ì‘ì€ ìš”ì†Œ, ì˜¤ë¥¸ìª½ì—ëŠ” í° ìš”ì†Œë¥¼ ìœ„ì¹˜ì‹œí‚¨ë‹¤.
- ì •ë ¬ëœ pivotì„ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½/ì˜¤ë¥¸ìª½ ë¶€ë¶„ìœ¼ë¡œ ë²”ìœ„ë¥¼ ì¶•ì†Œí•œë‹¤.
  1. pivotì˜ ì™¼ìª½ ë²”ìœ„, ì˜¤ë¥¸ìª½ ë²”ìœ„ì— ê°ê° ìœ„ì˜ ë™ì‘ì„ ë°˜ë³µí•œë‹¤.
  2. ë²”ìœ„ë‚´ ìš”ì†Œê°€ 1ê°œì¼ ë•Œ ì‹¤í–‰ì„ ì¤‘ë‹¨í•œë‹¤.

## pivot ì´ë™

### [ë°©ë²•1]

> pivotê°’ê³¼ ë‚˜ë¨¸ì§€ ìš”ì†Œë¥¼ ë¹„êµí•  ë•Œ, pivotë³´ë‹¤ ì‘ì€ ê°’ì„ ë§Œë‚˜ë©´ pivotì˜ ì˜¤ë¥¸ìª½ ìœ„ì¹˜ë¡œ ì˜®ê¸´ë‹¤.  
> ëª¨ë“  ìš”ì†Œì™€ ë¹„êµê°€ ëë‚¬ì„ ë•Œ pivotê³¼ ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜ëœ ì‘ì€ ê°’ì¤‘ ê°€ì¥ ë§ˆì§€ë§‰ ìš”ì†Œì™€ ìë¦¬ë¥¼ ë°”ê¾¼ë‹¤.

**pivot: ê¸°ì¤€ ê°’, pivotIndex: ê¸°ì¤€ ê°’ì´ ì´ë™í•  index**

1. í˜„ì¬ ë²”ìœ„(ë°°ì—´ ì „ì²´)ì—ì„œ ì²«ë²ˆì§¸ ìš”ì†Œë¥¼ pivotìœ¼ë¡œ í•˜ì.
2. pivotê°’ê³¼ ì˜¤ë¥¸ìª½ ìš”ì†Œë¥¼ í•˜ë‚˜ì”© ë¹„êµí•œë‹¤.
3. ë¹„êµ ìš”ì†Œê°€ pivotë³´ë‹¤ ì‘ìœ¼ë©´ pivotIndexë¥¼ 1 ì¦ê°€ì‹œí‚¤ê³  í•´ë‹¹ ìœ„ì¹˜ì— ìˆëŠ” ìš”ì†Œì™€ ë¹„êµ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤.
4. í•œ íŒ¨ìŠ¤ì“°ë£¨ê°€ ëë‚˜ë©´ pivotIndexì— ìœ„ì¹˜í•œ ìš”ì†Œ(pivotë³´ë‹¤ ì‘ì€ ê°’ ì¤‘ ê°€ì¥ ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜)ì™€ pivotì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤.

<Picture src="quick-sort1.png" height={380} />

#### pivotì„ ì´ë™ì‹œí‚¤ê³  ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì´ë™ëœ pivotì˜ indexë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜

```jsx
function getPivotIndex(array, startIndex, endIndex) {
  let pivotIndex = startIndex
  const pivot = array[startIndex]

  function switchValue(array, index1, index2) {
    if (index1 === index2) return
    ;[array[index1], array[index2]] = [array[index2], array[index1]]
  }

  for (let i = startIndex + 1; i <= endIndex; i++) {
    if (pivot > array[i]) {
      pivotIndex++

      switchValue(array, pivotIndex, i)
    }
  }

  switchValue(array, pivotIndex, startIndex)

  return pivotIndex
}
```

### [ë°©ë²•2]

> pivotì™¸ ë‚˜ë¨¸ì§€ ìš”ì†Œ ë²”ìœ„ì—ì„œ ì–‘ìª½ì— í¬ì¸í„°ë¥¼ ë‘”ë‹¤.  
> ì™¼ìª½ í¬ì¸í„°ëŠ” pivotë³´ë‹¤ í° ê°’ì´ ìˆìœ¼ë©´ ë©ˆì¶”ê³ , ì˜¤ë¥¸ì¡± í¬ì¸í„°ëŠ” pivotë³´ë‹¤ ì‘ì€ ê°’ì´ ìˆìœ¼ë©´ ë©ˆì¶˜ë‹¤.  
> ì™¼ìª½ í¬ì¸í„°ì˜ ìœ„ì¹˜ê°€ ì—¬ì „íˆ ì˜¤ë¥¸ìª½ í¬ì¸í„° ë³´ë‹¤ ì™¼ìª½ì— ìˆìœ¼ë©´ ë‘ í¬ì¸í„°ì˜ ê°’ì„ ë°”ê¾¸ê³  í¬ì¸í„°ì˜ ì´ë™ì„ ë°˜ë³µí•œë‹¤.  
> ì™¼ìª½ í¬ì¸í„°ì˜ ìœ„ì¹˜ê°€ ì˜¤ë¥¸ìª½ í¬ì¸í„°ì™€ ê°™ê±°ë‚˜ ë” ì˜¤ë¥¸ìª½ì— ìœ„ì¹˜í•˜ê²Œ ë˜ë©´ í¬ì¸í„° ì´ë™ì„ ë©ˆì¶˜ë‹¤.  
> pivotë³´ë‹¤ ì‘ì€ ê°’ì„ ì°¾ì•˜ë˜ ì™¼ìª½ í¬ì¸í„°ì™€ pivotì˜ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤.

<Picture src="quick-sort2.png" height={300} />

#### pivotì„ ì´ë™ì‹œí‚¤ê³  ì˜¬ë°”ë¥¸ ìˆœì„œë¡œ ì´ë™ëœ pivotì˜ indexë¥¼ ë°˜í™˜í•´ì£¼ëŠ” í•¨ìˆ˜

```jsx
function getPivotIndex(array, startIndex, endIndex) {
  let pivotIndex = startIndex
  let pivot = array[startIndex]

  function switchValue(array, index1, index2) {
    if (index1 === index2) return
    ;[array[index1], array[index2]] = [array[index2], array[index1]]
  }

  startIndex++

  while (true) {
    while (array[startIndex] < pivot) {
      startIndex++
    }

    while (array[endIndex] > pivot) {
      endIndex--
    }

    if (startIndex < endIndex) {
      switchValue(array, startIndex, endIndex)

      startIndex++
    } else {
      break
    }
  }

  switchValue(array, pivotIndex, endIndex)

  return endIndex
}
```

## í€µ ì •ë ¬

> í˜„ì¬ ë²”ìœ„(ë°°ì—´ ì „ì²´)ì—ì„œ pivotì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™í•˜ë©´ ì™¼/ì˜¤ ë²”ìœ„ê°€ ìƒê¸´ë‹¤.  
> ì™¼/ì˜¤ ë²”ìœ„ì—ì„œ pivotì„ ì§€ì •í•˜ì—¬ í•´ë‹¹ pivotì„ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì´ë™ì‹œí‚¨ë‹¤.  
> ìœ„ ì‘ì—…ì„ ë°˜ë³µí•˜ë‹¤ ìš”ì†Œê°€ 1ê°œìˆëŠ” ë²”ìœ„ì—ì„œ ì‹¤í–‰ì„ ë©ˆì¶˜ë‹¤.

1. pivotì„ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½/ì˜¤ë¥¸ìª½ ë²”ìœ„ì—ì„œ pivotì˜ ìœ„ì¹˜ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì˜®ê²¨ì¤„ getPivotIndexí•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œë‹¤.
2. ë²”ìœ„ë‚´ì— ìš”ì†Œê°€ 1ê°œ ì´í•˜ì¼ ë•Œ ë”ì´ìƒ quickSort ì¬ê·€ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì§€ ì•ŠëŠ”ë‹¤.

```jsx
function quickSort(array, startIndex = 0, endIndex = array.length - 1) {
  if (startIndex < endIndex) {
    let pivotIndex = getPivotIndex(array, startIndex, endIndex)

    quickSort(array, startIndex, pivotIndex - 1)
    quickSort(array, pivotIndex + 1, endIndex)
  }

  return array
}
```

### BigO

ì‹œê°„ ë³µì¡ë„ O(nlogN)

pivotê³¼ ë‚˜ë¨¸ì§€ ìš”ì†Œì™€ì˜ ë¹„êµë¥¼ í†µí•´ pivotì„ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ì •ë ¬í•˜ê³ , pivot ê¸°ì¤€ ì™¼/ì˜¤ ë¶€ë¶„ì„ ë‚˜ëˆ„ë©° ì´ë¥¼ ë°˜ë³µí•œë‹¤.

## í€µ ì„ íƒ(quick select)

<aside>
ğŸ“Œ í€µ ì •ë ¬ì˜ í•µì‹¬
- í•œ íŒ¨ìŠ¤ì“°ë£¨ì—ì„œ pivotì€ ì˜¬ë°”ë¥¸ ìˆœì„œì— ìœ„ì¹˜ëœë‹¤.
- pivot ê¸°ì¤€ ì™¼ìª½ì€ ì‘ì€ ìš”ì†Œ, ì˜¤ë¥¸ìª½ì€ í° ìš”ì†Œê°€ ìœ„ì¹˜í•œë‹¤.

</aside>

â‡’ ì „ì²´ ë°°ì—´ì„ ì •ë ¬í•˜ì§€ ì•Šê³ ë„ íŠ¹ì • ìˆœì„œì˜ ê°’ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆë‹¤.

```jsx
function quickSelect(
  targetOrder,
  array,
  startIndex = 0,
  endIndex = array.length - 1
) {
  if (array.length < targetOrder) return

  if (startIndex === endIndex) return array[startIndex]

  let pivotIndex = getPivotIndex(array, startIndex, endIndex)
  if (targetOrder - 1 === pivotIndex) return array[pivotIndex]

  if (pivotIndex > targetOrder - 1) {
    return quickSelect(targetOrder, array, startIndex, pivotIndex - 1)
  } else {
    return quickSelect(targetOrder, array, pivotIndex + 1, endIndex)
  }
}
```
