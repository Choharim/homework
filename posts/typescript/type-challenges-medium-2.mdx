---
title: íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ì±Œë¦°ì§€ - medium(2)
description: ChainableOption, PromiseAll, TypeLookUp, Trim, Capitalize ìœ í‹¸ íƒ€ì…ì„ ë§Œë“¤ì–´ë³´ì.
createDate: 2023.5.3
category: typescript
---

## ì²´ì´ë‹ìœ¼ë¡œ í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ëŠ” íƒ€ì… ë§Œë“¤ê¸°

### ëª©í‘œ

option(key, value)ë¥¼ ì²´ì´ë‹ìœ¼ë¡œ ê°ì²´ í”„ë¡œí¼í‹° íƒ€ì…ì„ ì¶”ê°€í•  ìˆ˜ ìˆê³ , getìœ¼ë¡œ ìµœì¢… ê²°ê³¼ íƒ€ì…ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” chainable options íƒ€ì…ì„ ë§Œë“¤ì–´ë³´ì.

ê°™ì€ keyëŠ” ì „ë‹¬ë˜ì§€ ì•Šê³ , key íƒ€ì…ì€ stringìœ¼ë¡œ ì œí•œí•œë‹¤.

```tsx
declare const config: Chainable

const result = config
  .option('foo', 123)
  .option('name', 'type-challenges')
  .option('bar', { value: 'Hello World' })
  .get()

// ê²°ê³¼
interface Result {
  foo: number
  name: string
  bar: {
    value: string
  }
}
```

### êµ¬í˜„

1. Chainableì€ ì œë„¤ë¦­ ê°’ì„ ë„˜ê¸°ì§€ ì•Šì•„ë„ ì˜¤ë¥˜ê°€ ë‚˜ì§€ ì•ŠëŠ”ë‹¤.
   ê¸°ë³¸ ê°’ì€ ëª¨ë“  ê°ì²´ íƒ€ì…ì´ í¬í•¨í•˜ëŠ” ë¹ˆ ê°ì²´ë¡œ ì„¤ì •í•´ì¤€ë‹¤.

```tsx
type Chainable<T extends {} = {}> = {
 ...
};
```

2. getì€ ìµœì¢… ê°ì²´ íƒ€ì…ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```tsx
type Chainable<T extends {} = {}> = {
  ...
  get(): T;
};
```

3. optionì€ ì²´ì´ë‹ì´ ê°€ëŠ¥í•´ì•¼ í•˜ë¯€ë¡œ optionê³¼ getì„ ê°–ëŠ” Chanable íƒ€ì…ì„ ë°˜í™˜í•´ì•¼ í•œë‹¤.
   ë‹¨, key ê°’ì´ ì¤‘ë³µë˜ì–´ ìˆìœ¼ë©´
   ì´ì „ key íƒ€ì…ì€ ì œê±°í•˜ê³  ë§ˆì§€ë§‰ì— ì¶”ê°€í•œ key íƒ€ì…ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.
4. â—Â optionì— ì „ë‹¬ë˜ëŠ” keyì™€ value íƒ€ì…ì„ ì–´ë–»ê²Œ ê°€ì ¸ì™€ì•¼ í• ê¹Œ?  
   optionì— ì œë„¤ë¦­ì„ ì‚¬ìš©í•˜ì.

```tsx
type Chainable<T extends {} = {}> = {
  option<Key extends string, Value>(
    key: Key,
    value: Value
  ): Key extends keyof T
    ? Chainable<Omit<T, Key> & Record<Key, Value>>
    : Chainable<T & Record<Key, Value>>
  get(): T
}
```

5. ë™ì¼í•œ keyë¥¼ ì¶”ê°€í–ˆì„ ë•Œ ì—ëŸ¬ë¥¼ ë°œìƒí•˜ë„ë¡ í•˜ì.

```tsx
type Chainable<T extends {} = {}> = {
  option<Key extends string, Value>(
    key: Key extends keyof T ? never : Key,
    value: Value
  ): Key extends keyof T
    ? Chainable<Omit<T, Key> & Record<Key, Value>>
    : Chainable<T & Record<Key, Value>>
  get(): T
}
```

6. ìœ„ì˜ ì½”ë“œë„ ì •ë‹µì´ì§€ë§Œ, ê°„ë‹¨íˆ ë³€ê²½í•´ë³´ì.

```tsx
type Chainable<T extends object = {}> = {
  option<Key extends string, Value>(
    key: Key extends keyof T ? never : Key,
    value: Value
  ): Chainable<Record<Key, Value> & Omit<T, Key>>
  get(): T
}
```

## PromiseAll íƒ€ì… ë§Œë“¤ê¸° ğŸ”¥ğŸ”¥

### ëª©í‘œ

PromiseAllì— ì „ë‹¬ë˜ëŠ” ì¸ìˆ˜ë¥¼ Promiseë¡œ ë°˜í™˜í•˜ëŠ” íƒ€ì… ë§Œë“¤ê¸°

```tsx
const promiseAllTest1 = PromiseAll([1, 2, 3] as const) // Promise<[1, 2, 3]>
const promiseAllTest2 = PromiseAll([1, 2, Promise.resolve(3)] as const) // Promise<[1, 2, number]>
const promiseAllTest3 = PromiseAll([1, 2, Promise.resolve(3)]) // Promise<[number, number, number]>
const promiseAllTest4 = PromiseAll<Array<number | Promise<number>>>([1, 2, 3]) // Promise<number[]>
```

### êµ¬í˜„

1. PromiseAll í•¨ìˆ˜ ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì€ readonly íƒ€ì…ì˜ ë°°ì—´ ë˜ëŠ” ì¼ë°˜ ë°°ì—´ì´ì–´ì•¼ í•œë‹¤.
   ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì„ ì¼ë°˜ ë°°ì—´ë¡œ ì§€ì •í•˜ë©´ readonly ë°°ì—´ íƒ€ì…ì€ ì¸ìˆ˜ë¡œ ë°›ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ readonlyë¡œ ì§€ì •í•´ì•¼ í•œë‹¤.

```tsx
declare function PromiseAll<T extends Readonly<any[]>>(
  values: T
): //...
```

2. Promiseë¥¼ ë°˜í™˜í•´ì•¼ í•œë‹¤.

```tsx
declare function PromiseAll<T extends Readonly<any[]>>(
  values: T
): Promise<...>;
```

3. Promise ë°˜í™˜ íƒ€ì…ì€ ë°°ì—´ì´ê³ , ìš”ì†Œì˜ íƒ€ì…ì€ Tì˜ ìš”ì†Œ ì¤‘ Promise resolvedëœ íƒ€ì…ì´ê±°ë‚˜ ì›ì‹œ íƒ€ì…ì´ë‹¤.  
   ë°°ì—´ì˜ ìš”ì†Œ íƒ€ì…ì„ íŠ¹ì • ì¡°ê±´ì¼ ë•Œ ë³€ê²½í•´ì•¼ í•˜ë¯€ë¡œ ìš”ì†Œ íƒ€ì…ì„ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ ê°ì²´ë¡œ ë‚˜íƒ€ë‚¸ë‹¤. (ë°°ì—´ ë˜í•œ ê°ì²´ì´ê¸° ë•Œë¬¸ì— ê°€ëŠ¥í•œ ë°©ì‹ì´ë‹¤.)  
   ìš”ì†Œê°€ PromiseLikeì˜ ë¶€ë¶„ íƒ€ì…ì´ë¼ë©´ ë¦¬í„´ íƒ€ì…ì„ ë°˜í™˜í•´ì•¼í•˜ë¯€ë¡œ infer íƒ€ì… ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.

```tsx
type ArrayItem<I> = I extends PromiseLike<infer R> ? R : I

declare function PromiseAll<T extends Readonly<any[]>>(
  values: T
): Promise<{
  [key in keyof T]: ArrayItem<T[key]>
}>
```

â—ê·¸ëŸ¬ë‚˜ ìœ„ì˜ ì½”ë“œëŠ” í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ í†µê³¼í•˜ì§€ ëª»í•œë‹¤.

```tsx
const promiseAllTest1 = PromiseAll([1, 2, 3] as const) // Promise<[1, 2, 3]> âŒ
const promiseAllTest2 = PromiseAll([1, 2, Promise.resolve(3)] as const) // Promise<[1, 2, number]> âŒ
const promiseAllTest3 = PromiseAll([1, 2, Promise.resolve(3)]) // Promise<[number, number, number]> âŒ
const promiseAllTest4 = PromiseAll<Array<number | Promise<number>>>([1, 2, 3]) // Promise<number[]> âœ…
```

ì´ìœ ëŠ”, ë‹¤ìŒê³¼ ê°™ë‹¤.

- ë§¤ê°œë³€ìˆ˜ê°€ readonly íƒ€ì…ì¼ ë•Œ ì œë„¤ë¦­ Të„ í•´ë‹¹ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¤ë¯€ë¡œ Promiseë¦¬í„´ íƒ€ì…ë„ readonlyê°€ ëœë‹¤.  
  ì²«ë²ˆì§¸, ë‘ë²ˆì§¸ ì¼€ì´ìŠ¤ê°€ ì´ì— í•´ë‹¹í•œë‹¤.

```tsx
type FirstCase = typeof promiseAllTest1 // Promise<readonly [1, 2, 3]> âŒ -> Promise<[1, 2, 3]>
type SecondCase = typeof promiseAllTest2 // Promise<readonly [1, 2, number]> âŒ -> Promise<[1, 2, number]>
```

- ë§¤ê°œë³€ìˆ˜ íƒ€ì…ìœ¼ë¡œ ë°°ì—´ í†µì§¸ë¡œ ë„˜ê²¨ì£¼ì§€ ì•Šê³  ìŠ¤í”„ë ˆë“œë¡œ í’€ì–´ ë„˜ê²¨ì£¼ì–´ì•¼ ê° ìš”ì†Œì˜ íƒ€ì…ì„ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤.  
  ì„¸ë²ˆì§¸ ì¼€ì´ìŠ¤ê°€ ì´ì— í•´ë‹¹í•œë‹¤.

```tsx
type ThirdCase = typeof promiseAllTest3 // Promise<number[]> âŒ -> Promise<[number, number, number]>
```

4. Të¥¼ readonly íƒ€ì…ì´ ì•„ë‹Œ ì¼ë°˜ ë°°ì—´ë¡œ ì§€ì •í•˜ê³ , ë§¤ê°œë³€ìˆ˜ íƒ€ì…ì— ìŠ¤í”„ë ˆë“œë¡œ ë°°ì—´ ìš”ì†Œ íƒ€ì…ì„ ë‚˜ì—´í•œë‹¤.

```tsx
// âœ…
type ArrayItem<I> = I extends PromiseLike<infer R> ? R : I

declare function PromiseAll<T extends Array<any>>(
  values: readonly [...T]
): Promise<{
  [key in keyof T]: ArrayItem<T[key]>
}>
```

5. ğŸ’¡Promiseì˜ resolvedëœ íƒ€ì…ì„ ë°˜í™˜í•˜ëŠ” `Awaited` íƒ€ì… ìœ í‹¸ì„ ì‚¬ìš©í•´ë³´ì.
   PromiseLike íƒ€ì…ì´ ì•„ë‹ˆë©´ í•´ë‹¹ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì— ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤.

```tsx
declare function PromiseAll<T extends Array<any>>(
  values: readonly [...T]
): Promise<{ [key in keyof T]: Awaited<T[key]> }>
```

## ë‘ ê°ì²´ íƒ€ì… ì¤‘ ê³µí†µ í”„ë¡œí¼í‹° íƒ€ì…ìœ¼ë¡œ í•˜ë‚˜ì˜ ê°ì²´ íƒ€ì…ë§Œ ê³¨ë¼ë‚´ëŠ”, LookUp íƒ€ì… ë§Œë“¤ê¸°

### ëª©í‘œ

ê°ì²´ íƒ€ì…ì„ êµ¬ë³„í•˜ê¸° ìœ„í•´ ë¼ë²¨ë§ ì—­í• ì„ í•˜ëŠ” ê³µí†µ í”„ë¡œí¼í‹°ë¥¼ ë§Œë“œëŠ” ìƒí™©ì€ í”í•˜ë‹¤. ì´ ì¤‘ ë¼ë²¨ ê°’ìœ¼ë¡œ í•˜ë‚˜ì˜ íƒ€ì…ë§Œ ê³¨ë¼ë‚´ëŠ” LookUp ìœ í‹¸ íƒ€ì…ì„ ë§Œë“¤ì–´ë³´ì.

```tsx
interface Cat {
  type: 'cat'
  breeds: 'Abyssinian' | 'Shorthair' | 'Curl' | 'Bengal'
}

interface Dog {
  type: 'dog'
  breeds: 'Hound' | 'Brittany' | 'Bulldog' | 'Boxer'
  color: 'brown' | 'white' | 'black'
}

type Animal = Cat | Dog

type cases = [
  Expect<Equal<LookUp<Animal, 'dog'>, Dog>>,
  Expect<Equal<LookUp<Animal, 'cat'>, Cat>>
]
```

### êµ¬í˜„

1. ì²«ë²ˆì§¸ ì œë„¤ë¦­ì— ê³µí†µ í”„ë¡œí¼í‹°ë¥¼ ê°–ëŠ” ê°ì²´ íƒ€ì…ì´ ë“¤ì–´ì™€ì•¼ í•œë‹¤.  
   ë‘ë²ˆì§¸ ì œë„¤ë¦­ì€ ê³µí†µ í”„ë¡œí¼í‹°ì˜ ê°’ íƒ€ì…ì´ ë“¤ì–´ì™€ì•¼ í•œë‹¤.

```tsx
type LookUp<
  U extends { type: string },
  T extends U["type"]
> = ...
```

2. type í”„ë¡œí¼í‹°ì˜ ê°’ íƒ€ì…ì´ ë‘ë²ˆì§¸ ì œë„¤ë¦­ íƒ€ì…ì´ë¼ë©´ í•´ë‹¹ ê°ì²´ íƒ€ì…ì„ ë¦¬í„´í•˜ê³ , ê·¸ì™¸ íƒ€ì…ì€ neverë¡œ ì œê±°í•œë‹¤. (ìœ ë‹ˆì˜¨ìœ¼ë¡œ neverê°€ ë“¤ì–´ê°€ë©´ ì œê±°ëœë‹¤.)

```tsx
type LookUp<U extends { type: string }, T extends U['type']> = U extends {
  type: T
}
  ? U
  : never
```

## ë¬¸ìì—´ì˜ ì‹œì‘ ê³µë°±ì„ ì œê±°í•˜ëŠ” trimLeft íƒ€ì… ë§Œë“¤ê¸°

### ëª©í‘œ

ë¬¸ìì—´ íƒ€ì…ì˜ ì‹œì‘ ë¶€ë¶„ ê³µë°±ì´ ì œê±°ëœ ìƒˆ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ”Â `TrimLeft<T>`ë¥¼ êµ¬í˜„í•´ë³´ì.

```tsx
type trimed = TrimLeft<'  Hello World  '> // 'Hello World  '
```

```tsx
type cases = [
  Expect<Equal<TrimLeft<'str'>, 'str'>>,
  Expect<Equal<TrimLeft<' str'>, 'str'>>,
  Expect<Equal<TrimLeft<'     str'>, 'str'>>,
  Expect<Equal<TrimLeft<'     str     '>, 'str     '>>,
  Expect<Equal<TrimLeft<'   \n\t foo bar '>, 'foo bar '>>,
  Expect<Equal<TrimLeft<''>, ''>>,
  Expect<Equal<TrimLeft<' \n\t'>, ''>>
]
```

### êµ¬í˜„

1. ê³µë°±ì„ ëª¨ë‘ ì œê±°í•˜ê¸° ìœ„í•´ í•˜ë‚˜ì”©(â€™ â€™)ì œê±°í•´ì•¼ í•˜ë¯€ë¡œ ì¬ê·€ë¥¼ ì´ìš©í•œë‹¤.  
   ê³µë°± í•˜ë‚˜ì”© ì œê±°ëœ ë¬¸ìì—´ì„ ì œë„¤ë¦­ì— ì „ë‹¬í•˜ê¸° ìœ„í•´ infer íƒ€ì… ë³€ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.

```tsx
type RemovedSpace = ' '

type TrimLeft<S extends string> = S extends `${RemovedSpace}${infer Rest}`
  ? TrimLeft<Rest>
  : S
```

2. â€˜\nâ€™ê³¼ â€˜\tâ€™ë„ ì œê±°í•´ì•¼ í•˜ë¯€ë¡œ RemovedSpace íƒ€ì…ì— ì¶”ê°€í•œë‹¤.

```tsx
type RemovedSpace = ' ' | '\n' | '\t'

type TrimLeft<S extends string> = S extends `${RemovedSpace}${infer Rest}`
  ? TrimLeft<Rest>
  : S
```

## ë¬¸ìì—´ì˜ ì–‘ìª½ ê³µë°±ì„ ì œê±°í•˜ëŠ” trim íƒ€ì… ë§Œë“¤ê¸°

### ëª©í‘œ

ë¬¸ìì—´ íƒ€ì…ì˜ ì–‘ìª½ ë ê³µë°±ì´ ì œê±°ëœ ìƒˆ ë¬¸ìì—´ì„ ë°˜í™˜í•˜ëŠ”Â `Trim<T>`ë¥¼ êµ¬í˜„í•´ë³´ì.

```tsx
type cases = [
  Expect<Equal<Trim<'str'>, 'str'>>,
  Expect<Equal<Trim<' str'>, 'str'>>,
  Expect<Equal<Trim<'     str'>, 'str'>>,
  Expect<Equal<Trim<'str   '>, 'str'>>,
  Expect<Equal<Trim<'     str     '>, 'str'>>,
  Expect<Equal<Trim<'   \n\t foo bar \t'>, 'foo bar'>>,
  Expect<Equal<Trim<''>, ''>>,
  Expect<Equal<Trim<' \n\t '>, ''>>
]
```

### êµ¬í˜„

1. ì™¼ìª½ ê³µë°±ë¶€í„° ì˜¤ë¥¸ìª½ ê³µë°±ê¹Œì§€ ìˆœì°¨ì ìœ¼ë¡œ ì œê±°í•´ ë‚˜ê°€ì.  
   ê³µë°±ì„ ì œê±°í•œ ë¶€ë¶„ë§Œì„ ì„ ë³„í•´ë‚´ì•¼ í•˜ê¸° ë•Œë¬¸ì— infer íƒ€ì… ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.
2. ì™¼ìª½ ê³µë°±ì´ ì—†ì„ ë•Œê¹Œì§€ ê³µë°± í•˜ë‚˜ê°€ ì œê±°ëœ ë‚˜ë¨¸ì§€ ë¬¸ìì—´ì„ ì œë„¤ë¦­ì— ë„˜ê²¨ì£¼ê³ ,  
   ì™¼ìª½ ê³µë°±ì´ ì—†ìœ¼ë©´ ì˜¤ë¥¸ìª½ ê³µë°±ì´ ì—†ì„ ë•Œê¹Œì§€ ê³µë°± í•˜ë‚˜ê°€ ì œê±°ëœ ë‚˜ë¨¸ì§€ ë¬¸ìì—´ì„ ì œë„¤ë¦­ìœ¼ë¡œ ë„˜ê²¨ì¤€ë‹¤.  
   ì–‘ìª½ ê³µë°±ì´ ëª¨ë‘ ì—†ë‹¤ë©´ ë¬¸ìì—´ì„ ê·¸ëŒ€ë¡œ ë°˜í™˜í•˜ì—¬ ì¬ê·€ë¥¼ ì¢…ë£Œí•œë‹¤.

```tsx
type RemovedSpace = ' ' | '\n' | '\t'

type Trim<S extends string> = S extends `${Space}${infer Rest}`
  ? Trim<Rest>
  : S extends `${infer Rest}${Space}`
  ? Trim<Rest>
  : S
```

## ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ ë³€ê²½í•˜ëŠ” Capitalize íƒ€ì… ë§Œë“¤ê¸°

### ëª©í‘œ

```tsx
type capitalized = Capitalize<'hello world'> // 'Hello world'
```

### êµ¬í˜„

1. ì²« ê¸€ìë¥¼ ëŒ€ë¬¸ìë¡œ ë³€ê²½í•´ì•¼ í•˜ë¯€ë¡œ infer íƒ€ì… ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì.

```tsx
type MyCapitalize<S extends string> = S extends `${infer Fist}${infer Rest}`
  ? ...
```

2. Uppercase íƒ€ì… ìœ í‹¸ì„ ì‚¬ìš©í•˜ë©´ ëŒ€ë¬¸ìë¡œ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

```tsx
type MyCapitalize<S extends string> = S extends `${infer Fist}${infer Rest}`
  ? `${Capitalize<Fist>}${Rest}`
  : S
```
